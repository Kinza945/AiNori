# AiNori ‚Äî Telegram-–±–æ—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –∞–Ω–∏–º–µ

–ë–æ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –±–∞–∑–µ Shikimori.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Ç–∞–π—Ç–ª–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–¥–∞—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
"—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É –ø—Ä–∏–≤—ã—á–Ω—ã–º–∏ –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `/start` –∏ `/menu` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≤—ã–∑–æ–≤ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏.
- "üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–∞–π—Ç–ª–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º, —Ç–µ–≥–∞–º–∏ –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ Shikimori.
- "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" ‚Äî –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ (–±—ã—Å—Ç—Ä–æ–µ "—Ä–µ—Ñ—Ä–µ—à"-–¥–µ–π—Å—Ç–≤–∏–µ).
- "üéõ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞" ‚Äî –≤—ã–±–æ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (0‚Äì1): —á–µ–º –Ω–∏–∂–µ, —Ç–µ–º —Å–º–µ–ª–µ–µ –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–µ–µ –≤—ã–¥–∞—á–∞.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ).
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python main.py
   ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Ä—è–¥–æ–º —Å `main.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```
BOT_TOKEN=<—Ç–æ–∫–µ–Ω —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞>
SHIKIMORI_CLIENT_ID=<client_id –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Shikimori>
SHIKIMORI_CLIENT_SECRET=<client_secret –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Shikimori>
SHIKIMORI_REDIRECT_URI=<redirect_uri, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è>
```
- **BOT_TOKEN** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç–µ —É [@BotFather](https://t.me/BotFather) –≤ Telegram.
- **SHIKIMORI_CLIENT_ID/CLIENT_SECRET** ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ https://shikimori.one/oauth –∏
  —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ä—É `client_id` / `client_secret` –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- **SHIKIMORI_REDIRECT_URI** ‚Äî URL –≤–∞—à–µ–≥–æ OAuth-callback (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ —É–∫–∞–∑–∞–Ω –≤
  –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Shikimori). –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://<ngrok-id>.ngrok.io/oauth/callback`).

–°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ —Å–µ–∫—Ä–µ—Ç–æ–≤, –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ `.env` –≤ git.

## –ü–ª–∞–Ω—ã –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Shikimori
–°–µ–π—á–∞—Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ß—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –ø—Ä–æ–π—Ç–∏ OAuth Shikimori –∏ —Ö—Ä–∞–Ω–∏—Ç—å `access_token`/`refresh_token` —à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ;
- –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å –æ—Ü–µ–Ω–∫–∏/—Å–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è;
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä "—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã" –∫–∞–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–∏;
- –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –∏—Ö –ø–æ –∫–Ω–æ–ø–∫–µ –∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤ –∏ OAuth-—Ä–µ–¥–∏—Ä–µ–∫—Ç–∞;
- –Ω–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –∏ PII, –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ scope —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ–º —Å–ø–∏—Å–∫–æ–≤/–æ—Ü–µ–Ω–æ–∫;
- –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ —Å —Ç–æ–∫–µ–Ω–∞–º–∏, –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫–µ.
